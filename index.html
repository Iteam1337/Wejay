<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Wejay</title>
    <script src="javascript/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="javascript/jquery.tmpl.min.js" type="text/javascript"></script>
    <script src="http://81.201.221.135:5000/socket.io/socket.io.js" type="text/javascript"></script>
    <link rel="stylesheet" href="sp://import/css/adam.css" />
    <link rel="stylesheet" href="sp://import/css/api.css" />
    <link rel="stylesheet" href="sp://import/css/list.css" />
    <link rel="stylesheet" href="http://wejay.org/content/css/bugfixes.css" />
    <link rel="stylesheet" href="style/main.css" />
    <script src="javascript/moment.min.js" type="text/javascript"></script>
    <script src="javascript/hub.js" type="text/javascript"></script>
    <script src="javascript/room.js" type="text/javascript"></script>
    <script src="javascript/app.js" type="text/javascript"></script>
    <script src="javascript/user.js" type="text/javascript"></script>
</head>
<body>
    <div id="branding">
        <img src="Images/Wejay128-inverted.png" />
    </div>
    <div id="offline">
        <h1>This application is not available when offline</h1>
    </div>
    <div id="main">
        <!-- wejay/start -->
        <section id="roomSection">
                <section id="current">
                    <div class="top">
                        <div class="left">
                            <div id="currentHolder">
                                <div class="hover">
                                    <a id="start" href="#" title="play/pause room"></a>
                                </div>
                                <a id="currentLink" href="" draggable="true">
                                    <span class="hidden title"></span>
                                    <img class="image" draggable="false" alt="current albumcover" id="currentAlbum" src="sp://import/img/placeholders/300-album.png"/>
                                </a>
                            </div>
                        </div>
                        <h2 id="onair">on air</h2>
                        <h1 id="roomTitle">Room</h1>
                        <div class="right">
                            <h3 id="currentSong"></h3>
                            <h4 id="currentPlayedBy"></h4>
                            <a class="button" title="Like this song" id="like" href="#"></a>
                            <a class="button" title="vote" id="voteButton" href="#">Skip</a>
                            <div id="voteOverlay">
                                <div>
                                    <a class="close" title="close"></a>
                                    <h1>Skip or block?</h1>
                                    <p>Do you want to skip this song or also block it from ever being played when you are logged in? Be careful when skipping others music, it might backfire ;)</p>
                                    <a class="button" title="Skip this song" id="skip" href="#">Skip</a>
                                    <a class="button" title="Block this song from ever playing again" id="block" href="#">Block</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="disclaimer wejay">
                        <h1>Disclaimer</h1>
                        <input type="checkbox" class="checkbox" >
                        <p>I understand that by logging in with my Facebook account I enable Wejay to use and store information from my Spotify library and listening history. This is done to provide a great listening experience.</p>
                    </div>
                    <div id="sharePopup">
                        <input type="button" id="closeShare" title="close" value="">
                        <h1>Share this room</h1>
                        <p>The fun begins when your colleagues start adding music. Use your favorite method to get the news out there!</p>
                        <a class="button" href="#" id="shareOnFacebook" title="Share room on Facebook">Share on Facebook</a>
                        <a class="button" href="#" id="shareOnMail" title="Share by Mail">Share by Mail</a>
                        <a class="button" href="#" id="shareOnURL" title="Share URL">Share URL</a>
                        <div id="manualShare" class="hide">
                            <input type="text" id="shareURL" value="">
                        </div>
                    </div>
                    <div class="middle">
                        <div class="left">
                            <h2 id="currentQueueNumber">CURRENT QUEUE</h2>
                            <div class="auto-completeForm"></div>
                            <ul id="queue">
                            </ul>
                        </div>
                        <div class="right">
                            <div class="logged in">
                                <h2>Logged in Wejays</h2>
                                <ul id="users"></ul>
                                <span class="buttons">
                                    <button class="sp-button" id="login">Login</button>
                                    <button class="sp-button" id="leaveRoom">Leave room</button>
                                    <button class="sp-button" id="joinRoom">Join room</button>
                                    <a class="button" href="#" id="share" title="Invite colleagues">Invite colleagues</a>
                                </span>
                            </div>
                            <div class="toplist">
                                <h2>Your spotify toplist</h2>
                                <ul id="userToplist"></ul>
                            </div>
                        </div>
                    </div>
                </section>
                <blockquote>Add music to this room by dragging tracks to this app</blockquote>
                <footer class="bottom">
                    <address>Active song selections are always played first and sorted in a way so that users get equal play time. When the active playlist is empty, the MAESTRO bot keeps playing music logged-in users have added before.<a href="http://wejay.org" class="link external inverted" title="wejay.org">wejay.org</a></address>
                </footer>
                <!-- Logged in users -->
                <script id="usersTemplate" type="text/x-jquery-tmpl">
                    <li><a draggable="false" href="${(app.user.friends || []) .indexOf(FacebookId) >= 0 ? 'spotify:user:facebook:' + FacebookId : '#wejaysSection' }" ><img draggable="false" class="image" alt="${unescape(UserName)}" src="http://graph.facebook.com/${FacebookId}/picture"><p>${unescape(UserName)}</p><p class="time">${CheckedIn}</p></li></a>
                </script>
                <!-- Current music in playlist -->
                <script id="queueTemplate" type="text/x-jquery-tmpl">
                    <li><!--<span class="star no${Vote}"></span>--><div class="song"><a class="track ${PlayedBy.FacebookId == (app.user ? app.user.facebookId : '') ? 'mine' : ''}" href="spotify:track:${SpotifyId}"><strong>${Artist}</strong> - ${Title}</a><a class="user" href="spotify:user:facebook:${PlayedBy.FacebookId}">Added by ${unescape(PlayedBy.UserName)}</a></div></li>
                </script>
                <!-- Current music in playlist -->
                <script id="userToplistTemplate" type="text/x-jquery-tmpl">
                    <li><a class="addSongToQueue" href="${uri}"></a><a href="${uri}" class="songInTopList"><strong>${album.artist.name}</strong> - ${name}</a></li>
                </script>
            </section>
        <!-- wejay/end -->
        <!-- open a room/start -->
        <section id="chooseSection" class="current">
                <section>
                    <span id="loginInformation">
                        <h1>We are the DJ.</h1>
                        <p>No more discussions, no more band bashing, no more competition over the shared office sound system. You work better to the tunes of your favorite music, and WEJAY makes that happen - for everyone.</p>
                    </span>
                    <span>
                        <h1>WEJAY Rooms</h1>
                        <p class="wejayRoomsCopy">All music in WEJAY is played in rooms. A room is where you and your colleagues listen to music together. Join a room to add your tracks and listen to music together.</p>
                        <ul class="rooms" id="rooms"></ul>
                        <script id="roomListTemplate" type="text/x-jquery-tmpl">
                            <li><a href="spotify:app:room:${Name}">${Name}</a></li>
                        </script>
                        <script id="roomTopListTemplate" type="text/x-jquery-tmpl">
                            <dl><img alt="${UserName}" src="http://graph.facebook.com/${FacebookId}/picture"></dl>
                        </script>
                        <div id="enterRoomBanner">
                            <p>None of your facebook friends have created a room yet, be the first one in your workspace to create a WEJAY room. You can later share a link to the room.</p>
                            <form id="roomSelectBanner" action="#roomSection">
                                <input type="text" value="" id="roomNameBanner" placeholder="CHOOSE ROOM NAME">
                                <input type="submit" value="CREATE ROOM" />
                            </form>
                        </div>
                    </span>
                    <div class="banner">
                        <h2>Enter a WEJAY Room</h2>
                        <p>Enter the name of a room not in the list above to join it. If it doesn't exist, it will be created (use only letters and numbers, no weird characters).</p>
                        <form id="roomSelect" action="#roomSection" class="input">
                            <input type="text" value="" id="roomName" placeholder="Wejay Room Name" />
                            <input type="submit" class="sp-button" value="Enter" />
                        </form>
                    </div>
                    <span class="buttons disclaimerRooms">
                        <h2 id="disclaimerLogin">Login</h2>
                        <div class="disclaimer rooms">
                            <p>I understand that by logging in with my Facebook account I enable WEJAY to use and store information from my Spotify library and listening history. This is done to provide a great listening experience.</p>
                            <input type="checkbox" class="checkbox" >
                            <input type="button" class="sp-button" disabled value="Login with Facebook">
                        </div>
                        <div id="disclaimerLoginOriginal">
                            <p>I understand that by logging in with my Facebook account I enable WEJAY to use and store information from my Spotify library and listening history. This is done to provide a great listening experience.</p>
                            <button class="sp-button" id="roomLogin">Login with Facebook</button>
                            <button class="sp-button" id="roomLogout">Logout</button>
                        </div>
                    </span>
                </section>
                <footer class="bottom">
                    <address>By logging in with your Facebook account you accept that WEJAY may use and store information from your Spotify library.<a href="http://wejay.org" class="link external inverted" title="wejay.org">wejay.org</a></address>
                </footer>
            </section>
        <!-- open a room/end -->
        <!-- about/start -->
        <section id="aboutSection">
                <section>
                    <span>
                        <h1>About Wejay</h1>
                        <div class="rows">
                            <p>Most of us work in an open-plan office. There are many approaches to music in the workplace - complete silence, isolation-via-headphones, a musical dictator or the path of least resistance (mainstream commercial radio satisfying nobody). None of these solutions seem very palatable.</p>
                            <p>Enter <a href="http://wejay.org">WEJAY</a>! Research shows that music promotes productivity, as long as you get a say in its selection. Wejay plays the music you and your colleagues select, in a You and your colleagues queues music in a room. The queue will be ordered in a way that will feel fair to all. The sound will be streamed from Spotify via the Wejay App to your speakers.</a></p>
                        </div>
                    </span>
                    <span>
                        <h2>Iteam</h2>
                        <div class="rows">
                            <p>The brains behind WEJAY are <a href="http://iteam.se">Iteam</a>, Stockholm-based system developers focused on inventing the future. We have used Wejay in different incarnations and perfected its selection algorithms at our own office for over ten years. We are hiring!</p>
                        </div>
                    </span>
                </section>
                <footer class="bottom">
                    <address>WEJAY have an automatic bot called MAESTRO which will try to match your music taste. Both WEJAY and MAESTRO will respect the logged in users vote. Use your voting power to assure WEJAY waits until you log out before playing that incessant summer hit from 1992. MAESTRO only plays music that you have played more than once, and to keep things fresh it will not play the same song more than once a day.<a href="http://wejay.org" class="link external inverted" title="wejay.org">wejay.org</a></address>
                </footer>
            </section>
        <!-- about/end -->
    </div>
    <script src="http://wejay.org/scripts/bugfixes.js" type="text/javascript"></script>
    <script type="text/javascript">
        // initialize Wejay App
        var app = new App();
        app.init({ version: "1.0.1" });
        var ui = sp.require('sp://import/scripts/dnd');
    </script>
</body>
</html>
