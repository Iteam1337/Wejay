<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Wejay</title>
    <script src="javascript/jquery-1.7.2.min.js" type="text/javascript"></script>
    <script src="javascript/jquery.tmpl.min.js" type="text/javascript"></script>
    <script src="javascript/socket.io.js" type="text/javascript"></script>
    <link rel="stylesheet" href="sp://import/css/adam.css" />
    <link rel="stylesheet" href="sp://import/css/api.css" />
    <link rel="stylesheet" href="sp://import/css/list.css" />
    <link rel="stylesheet" href="http://wejay.org/content/css/bugfixes.css" />
    <link rel="stylesheet" href="style/main.css" />
    <script src="javascript/moment.min.js" type="text/javascript"></script>
    <script src="javascript/hub.js" type="text/javascript"></script>
    <script src="javascript/room.js" type="text/javascript"></script>
    <script src="javascript/notifier.js" type="text/javascript"></script>
    <script src="javascript/app.js" type="text/javascript"></script>
    <script src="javascript/user.js" type="text/javascript"></script>
</head>
<body>
    <div id="branding">
        <a href="spotify:app:wejay:choose">
            <img src="Images/wejay-logo.png" id="logo" /></a>
    </div>
    <div id="offline">
        <h1>
            This application is not available when offline</h1>
    </div>
    <div id="overlay">
        <div id="facebook" class="buttons disclaimerRooms">
            <h2 id="disclaimerLogin">MUSIC FOR TEAMS</h2>
            <div class="disclaimer rooms">
                <p>After you have logged in you and your colleagues can add songs to a shared playlist which will be organized in a democratic way. For example, if some of your colleagues add 30 songs from their favorite death metal band - you can interrupt that with your favorite music and the democratic mix will see to it that you both get your music played.</p>
                <p>To get started, just open a WEJAY ROOM on one computer with speakers and everyone else can add songs to that playlist.</p>
                <p id="disclaimerText">I understand that when I log into my Facebook account below, Facebook will be able to associate information about my Spotify
                use, such as library and listening history, with my Facebook account. Facebook's collection and use of this information
                will be governed by the Facebook Privacy Policy.
                </p>
                <input type="checkbox" class="checkbox">
                <button class="sp-button" id="roomLogin" disabled>Login with Facebook</button>
            </div>
        </div>
    </div>
    <div id="main">
        <!-- wejay/start -->
        <section id="roomSection">
                <section id="current">
                    <div class="top">
                        <div class="left">
                            <div id="currentHolder">
                                <div class="hover">
                                    <a id="start" href="#" title="play/pause room"></a>
                                </div>
                                <a id="currentLink" href="" draggable="true">
                                    <span class="hidden title"></span>
                                    <img class="image" draggable="false" alt="current albumcover" id="currentAlbum" src="sp://import/img/placeholders/300-album.png"/>
                                </a>
                            </div>
                        </div>
                        <h2 id="onair">PLAYING</h2>
                        <h1 id="roomTitle">Room</h1>
                        <div class="right">
                            <h3 id="currentSong">
                                <span id="currentArtist"></span> - 
                                <span id="currentTrack"></span>
                            </h3>
                            <h4 id="currentPlayedBy"></h4>
                            <a class="button" title="I love this song" id="like" href="#"></a>
                            <div id="likeHover">
                             By loving tracks they will be played more often when you are logged in.
                            </div>
                            <a class="button" title="vote" id="voteButton" href="#">Skip</a>
                            <div id="skipHover">
                                Skip or block the songs you don't want to hear more.
                            </div>
                            <div id="voteOverlay">
                                <div>
                                    <a class="close" title="close"></a>
                                    <h1>Skip or block?</h1>
                                    <p>Do you want to skip this song or skip and also block it from ever being played when you are logged in? Be careful when skipping other's music, it might backfire ;)</p>
                                    <a class="button" title="Skip this song" id="skip" href="#">Skip</a>
                                    <a class="button" title="Block this song from ever playing again" id="block" href="#">Block</a>
                                </div>
                            </div>
                        </div>
                    </div>
                     <div id="sharePopup">
                        <input type="button" id="closeShare" title="close" value="">
                        <h1>Share this room</h1>
                        <p>The fun begins when your colleagues start adding music to the mix. Invite them here via email or facebook.</p>
                        <a class="button" href="#" id="shareOnFacebook" title="Share room on Facebook">Share on Facebook</a>
                        <a class="button" href="#" id="shareOnMail" title="Share by Mail">Share by Mail</a>
                        <a class="button" href="#" id="shareOnURL" title="Share URL">Share URL</a>
                        <div id="manualShare" class="hide">
                            <input type="text" id="shareURL" value="">
                        </div>
                    </div>
                    <div class="middle">
                        <div class="left">
                            <h2 id="currentQueueNumber">CURRENT QUEUE</h2>
                            <div class="auto-completeForm"></div>
                            <ul id="queue">
                            </ul>
                        </div>
                        <div class="right">
                            <div class="logged in">
                                <h2>Logged in Wejays</h2>
                                <ul id="users"></ul>
                                <span class="buttons">
                                    <button class="sp-button" id="login">Login</button>
                                    <button class="sp-button" id="leaveRoom">Leave room</button>
                                    <button class="sp-button" id="joinRoom">Join room</button>
                                    <a class="button" href="#" id="share" title="Invite colleagues">Invite colleagues</a>
                                </span>
                            </div>
                            <div class="toplist">
                                <h2>Your spotify toplist</h2>
                                <ul id="userToplist"></ul>
                                <p>Press + to add tracks to the mix</p>
                            </div>
                        </div>
                    </div>
                </section>
                <blockquote>Add music to this room by dragging tracks to this app</blockquote>
                <footer class="bottom">
                    <address>Active song selections are always played first and sorted in a way so that users get equal play time. When the active playlist is empty, the MAESTRO bot keeps playing music logged-in users have added before.<a href="http://wejay.org" class="link external inverted" title="wejay.org">wejay.org</a></address>
                </footer>
                <!-- Logged in users -->
                <script id="usersTemplate" type="text/x-jquery-tmpl">
                    <li><span><img class="image" alt="${unescape(UserName)}" src="http://graph.facebook.com/${FacebookId}/picture"><p>${unescape(UserName)}</p><p class="time">${CheckedIn}</p></span></li>
                </script>
                <!-- Current music in playlist -->
                <script id="queueTemplate" type="text/x-jquery-tmpl">
                    <li><!--<span class="star no${Vote}"></span>--><div class="song"><a class="track ${PlayedBy.FacebookId == (app.user ? app.user.facebookId : '') ? 'mine' : ''}" href="spotify:track:${SpotifyId}"><strong>${Artist}</strong> - ${Title}</a><span class="user">Added by ${unescape(PlayedBy.UserName)}</span></div></li>
                </script>
                <!-- Current music in playlist -->
                <script id="userToplistTemplate" type="text/x-jquery-tmpl">
                    <li><a class="addSongToQueue" href="${uri}"></a><a href="${uri}" class="songInTopList"><strong>${album.artist.name}</strong> - ${name}</a></li>
                </script>
            </section>
        <!-- wejay/end -->
        <!-- rooms/start -->
        <section id="chooseSection" class="current">
                <section>
                   <div id="tutorial">
                    <ul id="tutorialSteps">
                        <li id="stepOne">
                            <h2>Three co-workers drags tracks to the wejay app</h2>
                            <div class="subtitle">by adding tracks to a wejay room, your music will be mixed into a democratic playing queue</div>
                            <ul id="persons">
                                <li>
                                    <div class="aboutImage"><img src="images/portrait/girl1.jpg" /></div>
                                    <div class="aboutPerson">
                                        <h3>Johanna adds 4 songs</h3>
                                        <ul class="tutorialAlbums">
                                            <li><img src="Images/covers/nirvana.jpg" /></li>
                                            <li><img src="Images/covers/nirvana.jpg" /></li>
                                            <li><img src="Images/covers/nirvana.jpg" /></li>
                                            <li><img src="Images/covers/nirvana.jpg" /></li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <div class="aboutImage"><img src="images/portrait/man.jpg" /></div>
                                    <div class="aboutPerson">
                                        <h3>Christian adds 1 song and blocks 1 of Johanna's</h3>
                                        <ul class="tutorialAlbums">
                                            <li><img src="Images/covers/dylan.jpg" /></li>
                                            <li><div class="block"></div><img src="Images/covers/nirvana.jpg" /></li>
                                        </ul>
                                    </div>
                                </li>
                                <li>
                                    <div class="aboutImage"><img src="images/portrait/girl2.jpg" /></div>
                                    <div class="aboutPerson">
                                        <h3>Sophie adds 3 songs</h3>
                                        <ul class="tutorialAlbums">
                                            <li><img src="Images/covers/jayz.jpg" /></li>
                                            <li><img src="Images/covers/jayz.jpg" /></li>
                                            <li><img src="Images/covers/jayz.jpg" /></li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </li>
                        <li id="stepTwo">
                            <div class="stepInfo"><ul class="rules">
                                <div class="rulesTitle">Mixing rules:</div>
                                <li>1. Mix tracks - No one can highjack the office music system</li>
                                <li>2. Sporadic users gets priority</li>
                                <li>3. Veto - Everyone can block tracks</li>
                               </ul></div>
                            <div class="stepInner">
                                <h2>The Room Queue</h2>
                                <div class="subtitle">A set of complex rules decides the order of each track played</div>
                                <ul class="roomQueue">
                                   <li><img src="Images/covers/nirvana.jpg" /><div class="tooltip">Johanna's first song will be first</div></li>
                                   <li><img src="Images/covers/jayz.jpg" /><div class="tooltip">Sophie is a sporadic user. She will have priority over Christian.</div></li>
                                   <li><img src="Images/covers/dylan.jpg" /><div class="tooltip">Christian's first song</div></li>
                                   <li><div class="blockWrap"><img src="Images/covers/nirvana.jpg" /><div class="block"></div></div><div class="tooltip">Johanna's second song is blocked by Christian.</div></li>
                                   <li><img src="Images/covers/jayz.jpg" /><div class="tooltip">Johanna's and Sophie's queues will be mixed in a zebra order.</div></li>
                                   <li><img src="Images/covers/nirvana.jpg" /></li>
                                   <li><img src="Images/covers/jayz.jpg" /></li>
                                   <li><img src="Images/covers/nirvana.jpg" /></li>
                               </ul>
                           </div>
                       </li>
                       <li id="stepThree">
                            <div class="stepInfo"><ul class="rules">
                            <ul class="rules">
                                <div class="rulesTitle">Intelligent rules:</div>
                                <li>1. Only play music that has been added two times before</li>
                                <li>2. Give priority to music all logged in users love or have played</li>
                                <li>3. Never play the same track more than once per day</li>
                                <li>4. Try to find patterns. Christmas music in December, Party music on Fridays.</li>
                           </ul>
                            </div>
                            <div class="stepInner">
                                <h2>The queue is empty, The Maestro bot starts adding tracks</h2>
                        <div class="subtitle">After a few weeks you will start seeing the automatic bot called Maestro. It will be your assistant DJ.</div>
                           <ul class="roomQueue">
                               <li><img src="Images/covers/journey.jpg" /><div class="tooltip">Journey is loved by Sophie and has been added by Christian</div></li>
                               <li><img src="Images/covers/britney.jpg" /><div class="tooltip ">Britney has been played by Johanna twice</div></li>
                               <li><img src="Images/covers/lanadelrey.jpg" /><div class="tooltip">Lana Del Rey is often played on thursdays</div></li>
                           </ul>
                           </div>
                       </li>
                       </ul>
                       <div id="tutorialNavigation">
                        <a href="#" class="prev"></a>
                        <div id="getStarted">Get started</div>
                        <a href="#" class="next"></a>
                       </div>
                    </div>
                    <span id="loginInformation">
                        <p>WEJAY is built for teams. When you and your colleages start mixing your music with WEJAY, all of you will be more productive and social.</p>
                        <div id="tutorialBtn">How does it work?</div>
                    </span>
                    <div class="middle">
                    <div class="left">
                        <span id="roomsInformation">
                            <h1>FIND YOUR COLLEAGUES</h1>
                            <p>If any of your facebook friends have created a room, it will be shown below. Otherwise, create one yourself. It takes less than one second. ;-)</p>
                            <script id="roomListTemplate" type="text/x-jquery-tmpl">
                                <li><a href="spotify:app:wejay:room:${Name}">${Name}</a></li>
                            </script>
                            <div class="loadingIndicator">
                                <img src="images/loading.gif" />
                            </div>
                            <button class="sp-button" id="btnLogin">Login with Facebook</button>
                        </span>
                        <div id="enterRoomBanner">
                            <p>To start using WEJAY you need to create a WEJAY ROOM. You will start playing WEJAY on one computer which will be the master and everyone will be able to control the music via a mixed playlist. Enter a name, for example: INITECH or SCRANTON </p>
                            <form id="roomSelectBanner" action="#roomSection">
                                <input type="text" value="" id="roomNameBanner" placeholder="CHOOSE ROOM NAME">
                                <input type="submit" value="GO" />
                            </form>    
                        </div>
                    </div>
                    <div class="right">
                    <div class="banner">
                        <h2>Find a WEJAY Room</h2>
                        <p>If you know the name of a WEJAY room, enter the name below. You can also create a new room by entering a new name below. </p>
                        <form id="roomSelect" action="#roomSection">
                            <input type="text" value="" id="roomName" placeholder="Wejay Room Name" />
                            <input type="submit" class="sp-button" value="Enter" />
                        </form>
                    </div>
                    </div>
                    </div>
                </section>
                <footer class="bottom">
                    <address>By logging in with your Facebook account you accept that WEJAY may use and store information from your Spotify library.<a href="http://wejay.org" class="link external inverted" title="wejay.org">wejay.org</a></address>
                </footer>
            </section>
        <!-- rooms/end -->
        <!-- about/start -->
        <section id="aboutSection">
                <section>
                    <span>
                        <h1>About Wejay</h1>
                        <div class="rows">
                            <p>Most of us work in an open-plan office. There are many approaches to music in the workplace - complete silence, isolation-via-headphones, a musical dictator or the path of least resistance (mainstream commercial radio satisfying nobody). None of these solutions seem very palatable.</p>
                            <p>Enter <a href="http://wejay.org">WEJAY</a>! Research shows that music promotes productivity, as long as you get a say in its selection. Wejay plays the music you and your colleagues select, in a You and your colleagues queues music in a room. The queue will be ordered in a way that will feel fair to all. The sound will be streamed from Spotify via the Wejay App to your speakers.</a></p>
                        </div>
                    </span>
                    <span>
                        <h2>Iteam</h2>
                        <div class="rows">
                            <p>The brains behind WEJAY are <a href="http://iteam.se">Iteam</a>, Stockholm-based system developers focused on inventing the future. We have used Wejay in different incarnations and perfected its selection algorithms at our own office for over ten years. We are hiring!</p>
                        </div>
                    </span>
                </section>
                <footer class="bottom">
                    <address>WEJAY have an automatic bot called MAESTRO which will try to match your music taste. Both WEJAY and MAESTRO will respect the logged in users vote. Use your voting power to assure WEJAY waits until you log out before playing that incessant summer hit from 1992. MAESTRO only plays music that you have played more than once, and to keep things fresh it will not play the same song more than once a day.<a href="http://wejay.org" class="link external inverted" title="wejay.org">wejay.org</a></address>
                </footer>
            </section>
        <!-- about/end -->
    </div>
    <!-- NOTIFIER -->
    <div id="notifierHolder">
      <span id="closeNotifierHolder"></span>
    </div>
    <!-- NOTIFIER/end -->
    <script src="//wejay.org/scripts/bugfixes.js" type="text/javascript"></script>
    <script type="text/javascript">
        // initialize Wejay App
        var app = new App();
        app.init({ version: "1.0.2" });
        var ui = sp.require('sp://import/scripts/dnd');
    </script>
</body>
</html>
