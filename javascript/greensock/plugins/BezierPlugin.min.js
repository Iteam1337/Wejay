/*!
 * VERSION: beta 1.13
 * DATE: 2012-11-14
 * JavaScript (also available in AS3 and AS2)
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * Copyright (c) 2008-2012, GreenSock. All rights reserved. 
 * This work is subject to the terms in http://www.greensock.com/terms_of_use.html or for 
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){_gsDefine("plugins.BezierPlugin",["plugins.TweenPlugin"],function(E){var y=function(){E.call(this,"bezier",-1);this._overwriteProps.pop();this._func={};this._round={}},D=y.prototype=new E("bezier",1),H=180/Math.PI,z=[],A=[],B=[],F={},C=function(a,d,g,m){this.a=a;this.b=d;this.c=g;this.d=m;this.da=m-a;this.ca=g-a;this.ba=d-a},I=y.bezierThrough=function(a,d,g,m,j,b){var c={},f=[],e,i,n,j="string"===typeof j?","+j+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,";
null==d&&(d=1);for(i in a[0])f.push(i);z.length=A.length=B.length=0;for(e=f.length;-1<--e;){i=f[e];F[i]=-1!==j.indexOf(","+i+",");n=c;var s=i,p;p=a;var k=i,t=F[i],l=b,q=[],r=void 0,h=void 0,v=void 0,u=void 0,w=void 0,r=void 0;if(l){p=[l].concat(p);for(h=p.length;-1<--h;)if("string"===typeof(r=p[h][k]))"="===r.charAt(1)&&(p[h][k]=l[k]+Number(r.charAt(0)+r.substr(2)))}r=p.length-2;if(0>r)q[0]=new C(p[0][k],0,0,p[-1>r?0:1][k]);else{for(h=0;h<r;h++)v=p[h][k],u=p[h+1][k],q[h]=new C(v,0,0,u),t&&(w=p[h+
2][k],z[h]=(z[h]||0)+(u-v)*(u-v),A[h]=(A[h]||0)+(w-u)*(w-u));q[h]=new C(p[h][k],0,0,p[h+1][k])}p=q;n[s]=p}for(e=z.length;-1<--e;)z[e]=Math.sqrt(z[e]),A[e]=Math.sqrt(A[e]);if(!m){for(e=f.length;-1<--e;)if(F[i]){a=c[f[e]];n=a.length-1;for(j=0;j<n;j++)b=a[j+1].da/A[j]+a[j].da/z[j],B[j]=(B[j]||0)+b*b}for(e=B.length;-1<--e;)B[e]=Math.sqrt(B[e])}for(e=f.length;-1<--e;){i=f[e];a=c[i];j=d;b=g;n=m;i=F[i];s=a.length-1;p=0;for(var k=a[0].a,x=w=u=l=r=u=v=r=h=v=q=l=t=void 0,t=0;t<s;t++)h=a[p],l=h.a,q=h.d,v=a[p+
1].d,i?(u=z[t],w=A[t],x=0.25*(w+u)*j/(n?0.5:B[t]||0.5),r=q-(q-l)*(n?0.5*j:x/u),v=q+(v-q)*(n?0.5*j:x/w),u=q-(r+(v-r)*(3*u/(u+w)+0.5)/4)):(r=q-0.5*(q-l)*j,v=q+0.5*(v-q)*j,u=q-(r+v)/2),r+=u,v+=u,h.c=r,h.b=0!==t?k:k=h.a+0.6*(h.c-h.a),h.da=q-l,h.ca=r-l,h.ba=k-l,b?(l=G(l,k,r,q),a.splice(p,1,l[0],l[1],l[2],l[3]),p+=4):p++,k=v;h=a[p];h.b=k;h.c=k+0.4*(h.d-k);h.da=h.d-h.a;h.ca=h.c-h.a;h.ba=k-h.a;b&&(l=G(h.a,k,h.c,h.d),a.splice(p,1,l[0],l[1],l[2],l[3]))}return c},G=y.cubicToQuadratic=function(a,d,g,m){var j=
{a:a},b={},c={},f={c:m},e=(a+d)/2,i=(d+g)/2,g=(g+m)/2,d=(e+i)/2,i=(i+g)/2,n=(i-d)/8;j.b=e+(a-e)/4;b.b=d+n;j.c=b.a=(j.b+b.b)/2;b.c=c.a=(d+i)/2;c.b=i-n;f.b=g+(m-g)/4;c.c=f.a=(c.b+f.b)/2;return[j,b,c,f]};y.quadraticToCubic=function(a,d,g){return new C(a,(2*d+a)/3,(2*d+g)/3,g)};D.constructor=y;y.API=2;y._cssRegister=function(){var a=window.com.greensock.plugins.CSSPlugin;if(a){var a=a._internals,d=a._parseToProxy,g=a._setPluginRatio,m=a._specialProps,j=a.CSSPropTween;a._registerComplexSpecialProp("bezier",
null,function(a,c,f,e,i,n){c instanceof Array&&(c={values:c});var n=new y,f=c.values,s=f.length-1,p=[],k={},t,l,q;if(0>s)return i;for(t=0;t<=s;t++)q=d(a,f[t],e,i,n,s!==t),p[t]=q.end;for(l in c)k[l]=c[l];k.values=p;i=new j(a,"bezier",0,0,q.pt,2);i.data=q;i.plugin=n;i.setRatio=g;0===k.autoRotate&&(k.autoRotate=!0);k.autoRotate&&!(k.autoRotate instanceof Array)&&(t=!0===k.autoRotate?0:Number(k.autoRotate)*_DEG2RAD,k.autoRotate=null!=q.end.left?[["left","top","rotation",t,!0]]:null!=q.end.x?[["x","y",
"rotation",t,!0]]:!1);k.autoRotate&&(e._transform||(i=m.rotation.parse(a,0,l,e,i,n,{})),q.autoRotate=e._transform);n._onInitTween(q.proxy,k,e._tween);return i})}};D._onInitTween=function(a,d,g){this._target=a;d instanceof Array&&(d={values:d});this._props=[];this._timeRes=null==d.timeResolution?6:parseInt(d.timeResolution);var m=d.values||[],j={},b=m[0],g=d.autoRotate||g.vars.orientToBezier,c,f,e;this._autoRotate=g?g instanceof Array?g:[["x","y","rotation",!0===g?0:Number(g)||0]]:null;for(c in b)this._props.push(c);
for(b=this._props.length;-1<--b;)c=this._props[b],this._overwriteProps.push(c),g=this._func[c]="function"===typeof a[c],j[c]=!g?parseFloat(a[c]):a[c.indexOf("set")||"function"!==typeof a["get"+c.substr(3)]?c:"get"+c.substr(3)](),e||j[c]!==m[0][c]&&(e=j);if("cubic"!==d.type&&"quadratic"!==d.type&&"soft"!==d.type)j=I(m,isNaN(d.curviness)?1:d.curviness,!1,"thruBasic"===d.type,d.correlate,e);else{g=(g=d.type)||"soft";d={};e="cubic"===g?3:2;var g="soft"===g,b=[],i,n,s,p,k,t,l,q,r;g&&j&&(m=[j].concat(m));
if(null==m||m.length<e+1)throw"invalid Bezier data";for(n in m[0])b.push(n);for(t=b.length;-1<--t;){n=b[t];d[n]=k=[];r=0;q=m.length;for(l=0;l<q;l++)i=null==j?m[l][n]:"string"===typeof(s=m[l][n])&&"="===s.charAt(1)?j[n]+Number(s.charAt(0)+s.substr(2)):Number(s),g&&1<l&&l<q-1&&(k[r++]=(i+k[r-2])/2),k[r++]=i;q=r-e+1;for(l=r=0;l<q;l+=e)i=k[l],n=k[l+1],s=k[l+2],p=2===e?0:k[l+3],k[r++]=s=3===e?new C(i,n,s,p):new C(i,(2*n+i)/3,(2*n+s)/3,s);k.length=r}j=d}this._beziers=j;this._segCount=this._beziers[c].length;
if(this._timeRes){b=this._beziers;c=this._timeRes;c=c>>0||6;j=[];n=[];m=s=0;d=c-1;e=[];g=[];for(f in b){i=b[f];k=j;t=c;l=1/t;q=i.length;for(var h=void 0,v=void 0,u=p=r=v=void 0,w=h=void 0,x=void 0,x=u=void 0;-1<--q;){u=i[q];v=u.a;r=u.d-v;p=u.c-v;u=u.b-v;v=0;for(w=1;w<=t;w++)h=l*w,x=1-h,h=v-(v=(h*h*r+3*x*(h*p+x*u))*h),x=q*t+w-1,k[x]=(k[x]||0)+h*h}}b=j.length;for(f=0;f<b;f++)s+=Math.sqrt(j[f]),i=f%c,g[i]=s,i===d&&(m+=s,i=f/c>>0,e[i]=g,n[i]=m,s=0,g=[]);this._length=m;this._lengths=n;this._segments=e;
this._l1=this._li=this._s1=this._si=0;this._l2=this._lengths[0];this._curSeg=this._segments[0];this._s2=this._curSeg[0];this._prec=1/this._curSeg.length}if(g=this._autoRotate){g[0]instanceof Array||(this._autoRotate=g=[g]);for(b=g.length;-1<--b;)for(f=0;3>f;f++)c=g[b][f],this._func[c]="function"===typeof a[c]?a[c.indexOf("set")||"function"!==typeof a["get"+c.substr(3)]?c:"get"+c.substr(3)]:!1}return!0};D.setRatio=function(a){var d=this._segCount,g=this._func,m=this._target,j,b,c,f,e;if(this._timeRes){j=
this._lengths;f=this._curSeg;a*=this._length;b=this._li;if(a>this._l2&&b<d-1){for(d-=1;b<d&&(this._l2=j[++b])<=a;);this._l1=j[b-1];this._li=b;this._curSeg=f=this._segments[b];this._s2=f[this._s1=this._si=0]}else if(a<this._l1&&0<b){for(;0<b&&(this._l1=j[--b])>=a;);0===b&&a<this._l1?this._l1=0:b++;this._l2=j[b];this._li=b;this._curSeg=f=this._segments[b];this._s1=f[(this._si=f.length-1)-1]||0;this._s2=f[this._si]}j=b;a-=this._l1;b=this._si;if(a>this._s2&&b<f.length-1){for(d=f.length-1;b<d&&(this._s2=
f[++b])<=a;);this._s1=f[b-1];this._si=b}else if(a<this._s1&&0<b){for(;0<b&&(this._s1=f[--b])>=a;);0===b&&a<this._s1?this._s1=0:b++;this._s2=f[b];this._si=b}f=(b+(a-this._s1)/(this._s2-this._s1))*this._prec}else j=0>a?0:1<=a?d-1:d*a>>0,f=(a-j*(1/d))*d;d=1-f;for(b=this._props.length;-1<--b;)if(a=this._props[b],c=this._beziers[a][j],e=(f*f*c.da+3*d*(f*c.ca+d*c.ba))*f+c.a,this._round[a]&&(e=e+(0<e?0.5:-0.5)>>0),g[a])m[a](e);else m[a]=e;if(this._autoRotate){var d=this._autoRotate,i,n,s,p,k;for(b=d.length;-1<
--b;)a=d[b][2],p=d[b][3]||0,k=!0===d[b][4]?1:H,c=this._beziers[d[b][0]][j],e=this._beziers[d[b][1]][j],i=c.a+(c.b-c.a)*f,n=c.b+(c.c-c.b)*f,i+=(n-i)*f,n+=(c.c+(c.d-c.c)*f-n)*f,c=e.a+(e.b-e.a)*f,s=e.b+(e.c-e.b)*f,c+=(s-c)*f,s+=(e.c+(e.d-e.c)*f-s)*f,e=Math.atan2(s-c,n-i)*k+p,g[a]?g[a].call(m,e):m[a]=e}};D._roundProps=function(a,d){for(var g=this._overwriteProps,m=g.length;-1<--m;)if(a[g[m]]||a.bezier||a.bezierThrough)this._round[g[m]]=d};D._kill=function(a){var d=this._props,g,m;for(g in this._beziers)if(g in
a){delete this._beziers[g];delete this._func[g];for(m=d.length;-1<--m;)d[m]===g&&d.splice(m,1)}return E.prototype._kill.call(this,a)};E.activate([y]);return y},!0)});window._gsDefine&&_gsQueue.pop()();